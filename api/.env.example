# ============================================================================
# UrbanAid API - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control
# ============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
# Options: development, staging, production
ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# SQLite (Development)
DATABASE_URL=sqlite:///./urbanaid.db

# PostgreSQL (Production) - uncomment and configure for production
# DATABASE_URL=postgresql://username:password@localhost:5432/urbanaid

# PostgreSQL with SSL (Cloud providers like Heroku, AWS RDS)
# DATABASE_URL=postgresql://username:password@host:5432/urbanaid?sslmode=require

# Connection pool settings (PostgreSQL only)
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# =============================================================================
# SECURITY - JWT AUTHENTICATION
# =============================================================================
# CRITICAL: Generate a strong secret key for production!
# The app will REFUSE TO START in production if this is left as the default.
# Generate: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=your-256-bit-secret-key-change-in-production

# JWT Algorithm (HS256, HS384, HS512)
JWT_ALGORITHM=HS256

# Token expiration settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
# Development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081,http://localhost:19006

# Production - replace with your actual frontend domains
# ALLOWED_ORIGINS=https://urbanaid.org,https://app.urbanaid.org

# =============================================================================
# RATE LIMITING
# =============================================================================
# Requests per minute for different user types
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_LOGIN=5
RATE_LIMIT_ANONYMOUS=20
RATE_LIMIT_WRITE=10

# Redis URL — used by rate limiter, transit cache, and /utilities/all response cache.
# Required for production (multi-worker). Falls back to in-memory if not set.
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================
# For Gmail: Enable "App Passwords" in your Google account settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@urbanaid.org
SMTP_FROM_NAME=UrbanAid

# SendGrid (Alternative to SMTP)
# SENDGRID_API_KEY=your-sendgrid-api-key

# =============================================================================
# PUSH NOTIFICATIONS (Firebase Cloud Messaging)
# =============================================================================
# Get from Firebase Console > Project Settings > Cloud Messaging
FCM_SERVER_KEY=your-fcm-server-key

# =============================================================================
# SMS NOTIFICATIONS (Twilio) - Optional
# =============================================================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# EXTERNAL API KEYS
# =============================================================================
# Google Maps API (for geocoding)
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# HRSA API (Health Centers data)
# Most HRSA endpoints are public, but some require API key
HRSA_API_KEY=

# OneBusAway API (transit arrivals)
# Get from: https://www.onebusaway.org/api-key/
# Defaults to "TEST" which has low rate limits
OBA_API_KEY=TEST

# Sentry DSN (error tracking)
# Get from: https://sentry.io → Project Settings → Client Keys
SENTRY_DSN=

# =============================================================================
# LOGGING
# =============================================================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: simple, json
LOG_FORMAT=simple

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Host and port for uvicorn
HOST=0.0.0.0
PORT=8000

# Workers (production only, use 1 for development)
WORKERS=1

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
ENABLE_DOCS=true
RATE_LIMIT_ENABLED=true
ENABLE_EMAIL_VERIFICATION=false

# =============================================================================
# HSTS CONFIGURATION (Production Only)
# =============================================================================
# HSTS max-age in seconds (1 year recommended for production)
HSTS_MAX_AGE=31536000
